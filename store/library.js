import genres from "~/constants/genres";

export const state = () => ({
  library: {
    tv: [
      {
        id: 1,
        genres: [genres.comedy],
        title: 'Comedy Club',
        image: 'https://www.vokrug.tv/pic/product/1/8/5/d/185d16ed74d47af01146e61ac94b838f.jpg',
        ageLimit: 16,
        rating: '6.2',
        year: 2005,
        description: 'They come out onto a small patch of the stage right from the auditorium, exchanging words with others along the way, making compliments, asking for a light. They do not recognize any authority, decency or rule. They can easily ridicule any star person - even if she is sitting in the hall. They are part of their audience, they live by the same interests. Their goal is to entertain the audience, not to perform by playing a memorized program.'
      },
      {
        id: 2,
        genres: [genres.comedy],
        title: 'Comedy Club',
        image: 'https://www.vokrug.tv/pic/product/1/8/5/d/185d16ed74d47af01146e61ac94b838f.jpg',
        ageLimit: 16,
        rating: '6.2',
        year: 2005,
        description: 'They come out onto a small patch of the stage right from the auditorium, exchanging words with others along the way, making compliments, asking for a light. They do not recognize any authority, decency or rule. They can easily ridicule any star person - even if she is sitting in the hall. They are part of their audience, they live by the same interests. Their goal is to entertain the audience, not to perform by playing a memorized program.'
      },
      {
        id: 3,
        genres: [genres.comedy],
        title: 'Comedy Club',
        image: 'https://www.vokrug.tv/pic/product/1/8/5/d/185d16ed74d47af01146e61ac94b838f.jpg',
        ageLimit: 16,
        rating: '6.2',
        year: 2005,
        description: 'They come out onto a small patch of the stage right from the auditorium, exchanging words with others along the way, making compliments, asking for a light. They do not recognize any authority, decency or rule. They can easily ridicule any star person - even if she is sitting in the hall. They are part of their audience, they live by the same interests. Their goal is to entertain the audience, not to perform by playing a memorized program.'
      },
      {
        id: 4,
        genres: [genres.comedy],
        title: 'Comedy Club',
        image: 'https://www.vokrug.tv/pic/product/1/8/5/d/185d16ed74d47af01146e61ac94b838f.jpg',
        ageLimit: 16,
        rating: '6.2',
        year: 2005,
        description: 'They come out onto a small patch of the stage right from the auditorium, exchanging words with others along the way, making compliments, asking for a light. They do not recognize any authority, decency or rule. They can easily ridicule any star person - even if she is sitting in the hall. They are part of their audience, they live by the same interests. Their goal is to entertain the audience, not to perform by playing a memorized program.'
      },
      {
        id: 5,
        genres: [genres.comedy],
        title: 'Comedy Club',
        image: 'https://www.vokrug.tv/pic/product/1/8/5/d/185d16ed74d47af01146e61ac94b838f.jpg',
        ageLimit: 16,
        rating: '6.2',
        year: 2005,
        description: 'They come out onto a small patch of the stage right from the auditorium, exchanging words with others along the way, making compliments, asking for a light. They do not recognize any authority, decency or rule. They can easily ridicule any star person - even if she is sitting in the hall. They are part of their audience, they live by the same interests. Their goal is to entertain the audience, not to perform by playing a memorized program.'
      },
      {
        id: 6,
        genres: [genres.comedy],
        title: 'Comedy Club',
        image: 'https://www.vokrug.tv/pic/product/1/8/5/d/185d16ed74d47af01146e61ac94b838f.jpg',
        ageLimit: 16,
        rating: '6.2',
        year: 2005,
        description: 'They come out onto a small patch of the stage right from the auditorium, exchanging words with others along the way, making compliments, asking for a light. They do not recognize any authority, decency or rule. They can easily ridicule any star person - even if she is sitting in the hall. They are part of their audience, they live by the same interests. Their goal is to entertain the audience, not to perform by playing a memorized program.'
      },
      {
        id: 7,
        genres: [genres.comedy],
        title: 'Comedy Club',
        image: 'https://www.vokrug.tv/pic/product/1/8/5/d/185d16ed74d47af01146e61ac94b838f.jpg',
        ageLimit: 16,
        rating: '6.2',
        year: 2005,
        description: 'They come out onto a small patch of the stage right from the auditorium, exchanging words with others along the way, making compliments, asking for a light. They do not recognize any authority, decency or rule. They can easily ridicule any star person - even if she is sitting in the hall. They are part of their audience, they live by the same interests. Their goal is to entertain the audience, not to perform by playing a memorized program.'
      },
    ],
    movies: [
      {
        id: 1,
        genres: [genres.action, genres.scienceFiction],
        title: 'Avatar',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/jRXYjXNq0Cs2TcJjLkki24MLp7u.jpg',
        ageLimit: 12,
        rating: '7.9',
        year: 2009,
        description: 'In the 22nd century, a paraplegic Marine is dispatched to the moon Pandora on a unique mission, but becomes torn between following orders and protecting an alien civilization.'
      },
      {
        id: 2,
        genres: [genres.action, genres.scienceFiction],
        title: 'Avatar',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/jRXYjXNq0Cs2TcJjLkki24MLp7u.jpg',
        ageLimit: 12,
        rating: '7.9',
        year: 2009,
        description: 'In the 22nd century, a paraplegic Marine is dispatched to the moon Pandora on a unique mission, but becomes torn between following orders and protecting an alien civilization.'
      },
      {
        id: 3,
        genres: [genres.action, genres.scienceFiction],
        title: 'Avatar',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/jRXYjXNq0Cs2TcJjLkki24MLp7u.jpg',
        ageLimit: 12,
        rating: '7.9',
        year: 2009,
        description: 'In the 22nd century, a paraplegic Marine is dispatched to the moon Pandora on a unique mission, but becomes torn between following orders and protecting an alien civilization.'
      },
      {
        id: 4,
        genres: [genres.action, genres.scienceFiction],
        title: 'Avatar',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/jRXYjXNq0Cs2TcJjLkki24MLp7u.jpg',
        ageLimit: 12,
        rating: '7.9',
        year: 2009,
        description: 'In the 22nd century, a paraplegic Marine is dispatched to the moon Pandora on a unique mission, but becomes torn between following orders and protecting an alien civilization.'
      },
      {
        id: 5,
        genres: [genres.action, genres.scienceFiction],
        title: 'Avatar',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/jRXYjXNq0Cs2TcJjLkki24MLp7u.jpg',
        ageLimit: 12,
        rating: '7.9',
        year: 2009,
        description: 'In the 22nd century, a paraplegic Marine is dispatched to the moon Pandora on a unique mission, but becomes torn between following orders and protecting an alien civilization.'
      },
      {
        id: 6,
        genres: [genres.action, genres.scienceFiction],
        title: 'Avatar',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/jRXYjXNq0Cs2TcJjLkki24MLp7u.jpg',
        ageLimit: 12,
        rating: '7.9',
        year: 2009,
        description: 'In the 22nd century, a paraplegic Marine is dispatched to the moon Pandora on a unique mission, but becomes torn between following orders and protecting an alien civilization.'
      },
      {
        id: 7,
        genres: [genres.action, genres.scienceFiction],
        title: 'Avatar',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/jRXYjXNq0Cs2TcJjLkki24MLp7u.jpg',
        ageLimit: 12,
        rating: '7.9',
        year: 2009,
        description: 'In the 22nd century, a paraplegic Marine is dispatched to the moon Pandora on a unique mission, but becomes torn between following orders and protecting an alien civilization.'
      },
    ],
    series: [
      {
        id: 1,
        genres: [genres.drama],
        title: 'Breaking Bad',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/ggFHVNu6YYI5L9pCfOacjizRGt.jpg',
        ageLimit: 18,
        rating: '8.9',
        year: 2008,
        description: 'When Walter White, a New Mexico chemistry teacher, is diagnosed with Stage III cancer and given a prognosis of only two years left to live. He becomes filled with a sense of fearlessness and an unrelenting desire to secure his family\'s financial future at any cost as he enters the dangerous world of drugs and crime.'
      },
      {
        id: 2,
        genres: [genres.drama],
        title: 'Breaking Bad',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/ggFHVNu6YYI5L9pCfOacjizRGt.jpg',
        ageLimit: 18,
        rating: '8.9',
        year: 2008,
        description: 'When Walter White, a New Mexico chemistry teacher, is diagnosed with Stage III cancer and given a prognosis of only two years left to live. He becomes filled with a sense of fearlessness and an unrelenting desire to secure his family\'s financial future at any cost as he enters the dangerous world of drugs and crime.'
      },
      {
        id: 3,
        genres: [genres.drama],
        title: 'Breaking Bad',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/ggFHVNu6YYI5L9pCfOacjizRGt.jpg',
        ageLimit: 18,
        rating: '8.9',
        year: 2008,
        description: 'When Walter White, a New Mexico chemistry teacher, is diagnosed with Stage III cancer and given a prognosis of only two years left to live. He becomes filled with a sense of fearlessness and an unrelenting desire to secure his family\'s financial future at any cost as he enters the dangerous world of drugs and crime.'
      },
      {
        id: 4,
        genres: [genres.drama],
        title: 'Breaking Bad',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/ggFHVNu6YYI5L9pCfOacjizRGt.jpg',
        ageLimit: 18,
        rating: '8.9',
        year: 2008,
        description: 'When Walter White, a New Mexico chemistry teacher, is diagnosed with Stage III cancer and given a prognosis of only two years left to live. He becomes filled with a sense of fearlessness and an unrelenting desire to secure his family\'s financial future at any cost as he enters the dangerous world of drugs and crime.'
      },
      {
        id: 5,
        genres: [genres.drama],
        title: 'Breaking Bad',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/ggFHVNu6YYI5L9pCfOacjizRGt.jpg',
        ageLimit: 18,
        rating: '8.9',
        year: 2008,
        description: 'When Walter White, a New Mexico chemistry teacher, is diagnosed with Stage III cancer and given a prognosis of only two years left to live. He becomes filled with a sense of fearlessness and an unrelenting desire to secure his family\'s financial future at any cost as he enters the dangerous world of drugs and crime.'
      },
      {
        id: 6,
        genres: [genres.drama],
        title: 'Breaking Bad',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/ggFHVNu6YYI5L9pCfOacjizRGt.jpg',
        ageLimit: 18,
        rating: '8.9',
        year: 2008,
        description: 'When Walter White, a New Mexico chemistry teacher, is diagnosed with Stage III cancer and given a prognosis of only two years left to live. He becomes filled with a sense of fearlessness and an unrelenting desire to secure his family\'s financial future at any cost as he enters the dangerous world of drugs and crime.'
      },
      {
        id: 7,
        genres: [genres.drama],
        title: 'Breaking Bad',
        image: 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/ggFHVNu6YYI5L9pCfOacjizRGt.jpg',
        ageLimit: 18,
        rating: '8.9',
        year: 2008,
        description: 'When Walter White, a New Mexico chemistry teacher, is diagnosed with Stage III cancer and given a prognosis of only two years left to live. He becomes filled with a sense of fearlessness and an unrelenting desire to secure his family\'s financial future at any cost as he enters the dangerous world of drugs and crime.'
      },
    ],
  },
  actors: [
    {
      id: 1,
      title: 'Том Харди',
      description: 'good boy',
      image: 'https://upload.wikimedia.org/wikipedia/commons/4/43/Tom_Hardy_by_Gage_Skidmore.jpg'
    },
    {
      id: 2,
      title: 'Том Круз',
      description: 'good boy',
      image: 'https://www.film.ru/sites/default/files/styles/thumb_260x320/public/people/1457226-827313.jpg'
    },
    {
      id: 3,
      title: 'Том Харди',
      description: 'good boy',
      image: 'https://upload.wikimedia.org/wikipedia/commons/4/43/Tom_Hardy_by_Gage_Skidmore.jpg'
    },
    {
      id: 4,
      title: 'Том Круз',
      description: 'good boy',
      image: 'https://www.film.ru/sites/default/files/styles/thumb_260x320/public/people/1457226-827313.jpg'
    },
    {
      id: 5,
      title: 'Том Харди',
      description: 'good boy',
      image: 'https://upload.wikimedia.org/wikipedia/commons/4/43/Tom_Hardy_by_Gage_Skidmore.jpg'
    },
    {
      id: 6,
      title: 'Том Круз',
      description: 'good boy',
      image: 'https://www.film.ru/sites/default/files/styles/thumb_260x320/public/people/1457226-827313.jpg'
    },
    {
      id: 7,
      title: 'Том Харди',
      description: 'good boy',
      image: 'https://upload.wikimedia.org/wikipedia/commons/4/43/Tom_Hardy_by_Gage_Skidmore.jpg'
    },
  ],
  searchArray: [],
})

export const getters = {
  getTvShows(state) {
    return state.library.tv
  },
  getMovies(state) {
    return state.library.movies
  },
  getSeries(state) {
    return state.library.series
  },
  getFromId: state => payload => {
    return state.library[payload.place].find(item => item.id === +payload.id)
  },
  getActors(state) {
    return state.actors
  },
  getActor: state => id => {
    return state.actors.find(item => item.id === id)
  },
  getAllButOne: state => ({place, id, actor}) => {
    let arr = []
    if (actor) {
      arr = [...state.actors]
    } else {
      arr = [...state.library[place]]
    }
    const idx = arr.findIndex(it => it.id === id)

    arr.splice(idx, 1)

    return arr
  },
  getByGenre: state => genre => {
    const toReturn = []
    Object.keys(state.library).forEach(key => {
      state.library[key].forEach(item => {
        item.genres.includes(genre) ? toReturn.push({...item, place: key}) : null
      })
    })
    return toReturn
  }
}

export const mutations = {
  pushInSearch(state, item) {
    state.searchArray.push(item)
  },
  clearSearch(state) {
    state.searchArray = []
  }
}

export const actions = {
  search({state, commit}, searchText) {
    commit('clearSearch')

    if (searchText === '') {
      return
    }

    Object.keys(state.library).forEach(key => {
      state.library[key]
        // .forEach(item => item.title.includes(searchText) ? searchArray.push(item) : null)
        .forEach(item => {
          if (item.title.toLowerCase().includes(searchText.toLowerCase())) {
            commit('pushInSearch', {
              ...item,
              place: key
            })
          }
        })
    })
  }
}
